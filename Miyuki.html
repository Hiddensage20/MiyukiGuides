<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Pasos Miyuki</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Fondo gris claro */
        }
        /* Estilos adicionales para controlar el scroll dentro del contenedor de contenido */
        .scrollable-content {
            max-height: calc(100vh - 250px); /* Ajusta este valor según la altura de tu encabezado y pie de página */
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; /* Para un scroll más suave en iOS */
            padding-right: 1rem; /* Espacio para la barra de scroll si aparece */
        }

        /* Opcional: Ajustar el scrollbar para una mejor estética (requiere un poco más de CSS) */
        .scrollable-content::-webkit-scrollbar {
            width: 8px;
        }
        .scrollable-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .scrollable-content::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .scrollable-content::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-lg w-full text-center flex flex-col items-center">
        
        <div class="mb-8 text-left text-gray-700 w-full">
            <h2 class="text-2xl font-bold text-indigo-800 mb-4">Paso a paso para tejer VIRGEN en Pepa Miyuki</h2>
            
            <p class="mb-4">
                ¡Bienvenida/o a esta guía detallada para crear tu pieza de Miyuki! Sigue los pasos cuidadosamente para lograr un resultado hermoso.
            </p>

            <h3 class="text-xl font-semibold text-indigo-700 mb-2">Glosario de Letras</h3>
            <ul class="list-disc list-inside mb-4 ml-4">
                <li><span class="font-bold">D</span> = Dorado</li>
                <li><span class="font-bold">N</span> = Negro</li>
                <li><span class="font-bold">P</span> = Piel</li>
                <li><span class="font-bold">V</span> = Verde</li>
                <li><span class="font-bold">C</span> = Café</li>
                <li><span class="font-bold">R</span> = Rojo</li>
            </ul>

            <h3 class="text-xl font-semibold text-indigo-700 mb-2">Explicación de Reducción</h3>
            <p class="mb-2">
                Hay dos tipos de reducción:
            </p>
            <p class="mb-4">
                1. Cuando decimos agregar una pepa y luego poner el hilo por la misma, notarás que al poner la última pepa queda un espacio vacío. Meterás la aguja por la pepa que queda justo encima donde te quedó el hilo y agregarás la pepa indicada como si fueras a hacer una hilera. Quedarás con el hilo justo debajo de la última hilera. Meterás la aguja hacia donde está la pepa en la pepa justo detrás donde te queda el hilo. Si tienes el hilo apuntando hacia arriba justo a la derecha habrán dos pepas: la que acabas de poner y una detrás de la que pusiste. Meterás la aguja hacia arriba por la anterior a la que pusiste y por último el hilo por la pepa que metiste.
            </p>
            <p class="mb-4">
                2. Después de poner la última pepa antes de una reducción, formas una especie de escalón y el hilo queda en la última pepa de la fila anterior. Meterás el hilo justo en la pepa anterior por la que salió el hilo. Ahora verás la penúltima columna. Desde la pepa que metiste hacia lo que ya está terminado habrán 3 pepas contando la que pusiste. Meterás la aguja en dirección a donde sale el hilo en la tercera, devolverás por la segunda en dirección contraria y por último metes la aguja en la que pusiste.
            </p>
            <hr class="my-6 border-t-2 border-gray-300">
        </div>

        <div class="scrollable-content w-full flex flex-col items-center">
            <div id="step-display" class="text-3xl font-bold text-indigo-700 mb-6 sticky top-0 bg-white py-2 z-10 w-full">Paso 1</div>

            <img id="step-image" src="images/1.jpg" alt="Imagen del paso actual" class="max-w-md h-auto rounded-lg shadow-md mb-8 mx-auto">

            <div id="pattern-display" class="text-xl text-gray-800 mb-8 px-4 leading-relaxed">
                Prepara tu espacio de trabajo.
            </div>
        </div>
        <div class="flex justify-center space-x-4 w-full mt-auto py-4"> <button id="prev-button" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50">
                Anterior
            </button>
            <button id="next-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                Siguiente
            </button>
        </div>
    </div>

    <script>
        // Array de pasos con sus patrones e imágenes
        const steps = [
            {
                pattern: "D 2N 10P 1N 1D 4V",
                imageUrl: "images/1.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D N 5P N",
                imageUrl: "images/2.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D 3P 2C P N V",
                imageUrl: "images/3.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "V D N 3C P C N",
                imageUrl: "images/4.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D 2C 4P N V",
                imageUrl: "images/5.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "V D 6P N",
                imageUrl: "images/6.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D 3P 2N P N V",
                imageUrl: "images/7.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "V D 2P N 3P N",
                imageUrl: "images/8.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D 2N 4P N V",
                imageUrl: "images/9.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "V D 4P C 2N",
                imageUrl: "images/10.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D C 5P N V",
                imageUrl: "images/11.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "2D 4P C P N",
                imageUrl: "images/12.jpg" // Cambia la extensión si es .png o .jpeg
            },
            {
                pattern: "D C P C 3P N V",
                imageUrl: "images/13.jpg" // Aquí es donde debes poner la ruta a tu imagen del Paso 13.
            },
            {
                pattern: "V D 2P 2C P C D",
                imageUrl: "images/14.jpg" // Y aquí para el Paso 14.
            },
            {
                pattern: "REDUCCION (Consulta la explicación de reducción al inicio de la guía)",
                imageUrl: "images/15.jpg" // Y aquí para el Paso 15.
            }
        ];

        let currentStepIndex = 0; // El índice actual del paso (empezando desde 0)

        // Obtener referencias a los elementos del DOM
        const stepDisplay = document.getElementById('step-display');
        const stepImage = document.getElementById('step-image');
        const patternDisplay = document.getElementById('pattern-display');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');

        /**
         * Actualiza el contenido de la interfaz de usuario con el paso actual.
         */
        function updateUI() {
            // Actualiza el número de paso
            stepDisplay.textContent = `Paso ${currentStepIndex + 1}`;

            // Actualiza la imagen
            stepImage.src = steps[currentStepIndex].imageUrl;
            stepImage.alt = `Imagen del Paso ${currentStepIndex + 1}`;

            // Actualiza el patrón a seguir
            patternDisplay.textContent = steps[currentStepIndex].pattern;

            // Habilita o deshabilita los botones según el paso actual
            prevButton.disabled = currentStepIndex === 0; // Deshabilita "Anterior" en el primer paso
            prevButton.classList.toggle('opacity-50', currentStepIndex === 0);
            prevButton.classList.toggle('cursor-not-allowed', currentStepIndex === 0);
            prevButton.classList.toggle('hover:bg-gray-400', currentStepIndex !== 0);
            prevButton.classList.toggle('hover:scale-105', currentStepIndex !== 0);


            nextButton.disabled = currentStepIndex === steps.length - 1; // Deshabilita "Siguiente" en el último paso
            nextButton.classList.toggle('opacity-50', currentStepIndex === steps.length - 1);
            nextButton.classList.toggle('cursor-not-allowed', currentStepIndex === steps.length - 1);
            nextButton.classList.toggle('hover:bg-indigo-700', currentStepIndex !== steps.length - 1);
            nextButton.classList.toggle('hover:scale-105', currentStepIndex !== steps.length - 1);
        }

        // Manejador de eventos para el botón "Siguiente"
        nextButton.addEventListener('click', () => {
            if (currentStepIndex < steps.length - 1) {
                currentStepIndex++;
                updateUI();
            }
        });

        // Manejador de eventos para el botón "Anterior"
        prevButton.addEventListener('click', () => {
            if (currentStepIndex > 0) {
                currentStepIndex--;
                updateUI();
            }
        });

        // Inicializar la UI al cargar la página
        window.onload = updateUI;
    </script>
</body>
</html>
